# Система промокодов

Система промокодов позволяет администраторам создавать промокоды для пользователей бота.

## Функциональность

### Для администраторов:
- `/promoset` - создание нового промокода с выбором суммы (100, 500, 1000, 2000, 5000₽)
- Просмотр статистики созданных промокодов
- Копирование промокодов для передачи пользователям

### Для пользователей:
- `/promo КОД` - активация промокода (например: `/promo 245nmao1`)
- `/promohistory` - просмотр истории использованных промокодов

## Правила использования

- Один промокод может быть использован только один раз
- Один пользователь может активировать промокод раз в 24 часа
- Промокод действителен 14 дней с момента создания
- Деньги зачисляются на баланс пользователя мгновенно
- Автоматическая очистка истекших промокодов каждые 24 часа

## Структура файлов

- `types.go` - структуры данных для промокодов
- `service.go` - основная бизнес-логика
- `admin_handler.go` - обработчики команд для администраторов
- `user_handler.go` - обработчики команд для пользователей
- `manager.go` - главный менеджер системы
- `utils.go` - вспомогательные функции

## База данных

Система создает две таблицы:
- `promo_codes` - основная таблица промокодов
- `promo_usage` - история использования промокодов

## Инициализация

Система автоматически инициализируется при запуске бота через `app/init.go`.
